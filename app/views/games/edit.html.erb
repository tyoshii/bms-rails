<h1>Games#edit</h1>
<p>Find me in app/views/games/edit.html.erb</p>

<%= form_for @game do |f| %>

<h1>ランニングスコア</h1>
<p>
両チームで記録し合う
</p>

<%# ランニングスコア %>
<table class="rs">
<thead>
<tr>
<th>チーム</th>
<% for i in 1..7 %>
<th><%= i %></th>
<% end %>
<th>合計</th>
</thead>

<tbody>
<% for tb in ['top', 'bottom'] %>
<tr>
<th><%= get_name_by_team_id @game[tb + '_team_id'] %></th>
<% for i in 1..@game.last_inning %>
<% key = tb + '_' + i.to_s %>
<td><input type="text" name="rs[<%= key %>]" value="<%= @rs[key] %>"></td>
<% end %>
<td><input type="text" name="rs[<%= tb %>_sum]" value="<%= @rs[tb + '_sum'] %>"></td>
</tr>
<% end %>
</tbody>
</table>

<%= f.hidden_field :last_inning %>

<%# 打者成績入力 %>
<h1>打者成績入力</h1>
<p>
自分のチームの打者成績をいれる
</p>

<% for tb in ['top', 'bottom'] %>

<table>
<thead>
<tr>
<th>打順</th>
<th>名前</th>
<th>守備</th>
<th>内野フライ</th>
<th>内野ゴロ</th>
<th>外野フライ</th>
<th>三振</th>
<th>フォアボール</th>
<th>デッドボール</th>
<th>送りバント</th>
<th>犠打</th>
<th>ヒット</th>
<th>2塁打</th>
<th>3塁打</th>
<th>HR</th>
<th>打点</th>
<th>盗塁</th>
</tr>
</thead>

<tbody>
<% for i in 1..9 %>
<tr>
<td><%= i %></td>
<td><%= select :stats, tb + '_player_' + i.to_s + '0', options_for_select(@players[tb].collect{|t| [t.name, t.id]}) %></td>
<td><%= text_field :stats, :position %></td>
<td><%= number_field :stats, :infielder_fly %></td>
<td><%= number_field :stats, :infielder_grounder %></td>
<td><%= number_field :stats, :outfielder_fly %></td>
<td><%= number_field :stats, :k %></td>
<td><%= number_field :stats, :bb %></td>
<td><%= number_field :stats, :db %></td>
<td><%= number_field :stats, :bunt %></td>
<td><%= number_field :stats, :sac %></td>
<td><%= number_field :stats, :h %></td>
<td><%= number_field :stats, :h2 %></td>
<td><%= number_field :stats, :h3 %></td>
<td><%= number_field :stats, :hr %></td>
<td><%= number_field :stats, :rate %></td>
<td><%= number_field :stats, :steal %></td>
</tr>
<% end %>
</tbody>
</table>

<% end %>

<h1>投手成績入力</h1>
<p>
自分のチームの投手成績をいれる
</p>

<table>
<thead>
<tr>
<th>順</th>
<th>名前</th>
<th>勝敗</th>
<th colspan="2">投球回数</th>
<th>奪三振</th>
<th>失点</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td><%= select :stats, tb + '_player_' + i.to_s + '0', options_for_select(@players[tb].collect{|t| [t.name, t.id]}) %></td>
<td><%= select :stats, :result, [['勝', '勝'], ['負', '負']] %></td>
<td><%= select :stats, :inning, [1..7] %></td>
<td><%= select :stats, :inning, ['', 0/3, 1/3, 2/3] %></td>
<td><%= number_field :stats, :k %></td>
<td><%= number_field :stats, :rate %></td>
</tr>
</tbody>
</table>

<%= submit_tag '登録' %>
<% end %>
